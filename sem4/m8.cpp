#include <iostream>
using namespace std;

int main() {
    // Система уравнений:
    // 3x - y + 2z = 5
    // 2x + 4y - z = 6  
    // x - 3y + z = 4

    // Матрица коэффициентов A
    double A[3][3] = { {3, -1, 2},
                      {2, 4, -1},
                      {1, -3, 1} };

    // Вектор правой части B
    double B[3] = { 5, 6, 4 };

    // Вычисляем определитель матрицы A
    double det = A[0][0] * (A[1][1] * A[2][2] - A[1][2] * A[2][1])
        - A[0][1] * (A[1][0] * A[2][2] - A[1][2] * A[2][0])
        + A[0][2] * (A[1][0] * A[2][1] - A[1][1] * A[2][0]);

    cout << "Определитель матрицы A: " << det << endl;

    if (det == 0) {
        cout << "Система не имеет единственного решения" << endl;
        return 0;
    }

    // Решение по формулам Крамера
    // det_x: заменяем первый столбец на B
    double det_x = B[0] * (A[1][1] * A[2][2] - A[1][2] * A[2][1])
        - A[0][1] * (B[1] * A[2][2] - A[1][2] * B[2])
        + A[0][2] * (B[1] * A[2][1] - A[1][1] * B[2]);

    // det_y: заменяем второй столбец на B  
    double det_y = A[0][0] * (B[1] * A[2][2] - A[1][2] * B[2])
        - B[0] * (A[1][0] * A[2][2] - A[1][2] * A[2][0])
        + A[0][2] * (A[1][0] * B[2] - B[1] * A[2][0]);

    // det_z: заменяем третий столбец на B
    double det_z = A[0][0] * (A[1][1] * B[2] - B[1] * A[2][1])
        - A[0][1] * (A[1][0] * B[2] - B[1] * A[2][0])
        + B[0] * (A[1][0] * A[2][1] - A[1][1] * A[2][0]);

    double x = det_x / det;
    double y = det_y / det;
    double z = det_z / det;

    cout << "\nРешение системы:" << endl;
    cout << "3x - y + 2z = 5" << endl;
    cout << "2x + 4y - z = 6" << endl;
    cout << "x - 3y + z = 4" << endl;
    cout << "x = " << x << endl;
    cout << "y = " << y << endl;
    cout << "z = " << z << endl;
    return 0;
}